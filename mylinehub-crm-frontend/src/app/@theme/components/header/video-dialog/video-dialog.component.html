<div #video class='video' cdkDrag [(cdkDragFreeDragPosition)]="headerVariableService.dragPosition" cdkDragBoundary=".cdk-overlay-container">

  <div class='resizers'>
    <!-- <div class='resizer top-left'></div>
    <div class='resizer top-right'></div> -->
    <!-- <video id="remoteVideo" muted playsinline style="object-fit: contain; width: 100%; height: 100%"></video> -->
    <!-- <video #embedVideo controls muted playsinline style="object-fit: contain; width: 100%; height: 100%"></video> -->

    <!-- <span *ngIf="!seeAll"></span>

    <span *ngIf="seeAll">
    
    
    </span> -->

    <nb-card  class="main" accent="info">
      <nb-card-header class="main">
        <div class="handle" cdkDragHandle nbTooltip="move" nbTooltipPlacement="top">
          <svg width="1.5000rem" fill="currentColor" viewBox="0 0 24 24">
            <path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path>
            <path d="M0 0h24v24H0z" fill="none"></path>
          </svg>
        </div>
      
        <div class="screen" (click)="changeShare()">
          <i class="fas fa-video" *ngIf="!videoDialogDataService.screenShare;" nbTooltip="Screen-not-shared" nbTooltipPlacement="top"></i>
          <i class="fas fa-expand" *ngIf="videoDialogDataService.screenShare;" nbTooltip="Screen-shared" nbTooltipPlacement="top"></i>
        </div>
      
        <div class="expand" (click)="fullScreen()">
          <nb-icon icon="expand-outline" nbTooltip="full-screen" nbTooltipPlacement="top" *ngIf="!videoDialogDataService.fullScreenEnabled"></nb-icon>
          <nb-icon icon="collapse-outline" nbTooltip="collapse-screen" nbTooltipPlacement="top" *ngIf="videoDialogDataService.fullScreenEnabled"></nb-icon>
        </div>
      
        <div class="close" (click)="dismiss()">
          <nb-icon icon="close-square-outline" nbTooltip="close" nbTooltipPlacement="top"></nb-icon>
        </div>
        Video & Conferencing &nbsp;&nbsp; <button class="listAllParticipantsAction" nbButton ghost status="success" nbTooltip="add-pstn-call" nbTooltipPlacement="top" (click)="addPstnCall()"><nb-icon icon="phone-call-outline"></nb-icon></button>
      </nb-card-header>
      <nb-card-body class="main">
 

        <div class="videoBlockContainer" [style.width.%]="videoBlockContainerWidth" [style.height.%]="videoBlockContainerHeight">
          
           <!-- <video class = "speakerVideo" controls muted playsinline></video> -->
           <!-- <span *ngIf="headerVariableService.isVideoCall"><video id="speakerVideo" muted playsinline style="object-fit: contain; width: 100%; height: 100%"></video></span> -->
          
          <div class = "mainVideoWrapper"  [style.width.%]="mainVideoWrapperWidth" [style.height.%]="mainVideoWrapperHeight">
            <video id="mainVideo" *ngIf="videoDialogDataService.mainVideoData.isVideoOn" class = "speakerVideo" [style.width.%]="speakerVideoWidth" [style.height.%]="speakerVideoHeight"></video>
            <span *ngIf="!videoDialogDataService.mainVideoData.isVideoOn" style="width:100%;height:100%">
              <div class="speaker-main-container">
                <div class="speaker-wrapper">
                  <div class="speaker border">
                    <div class="speaker inside"  [style.filter]="videoDialogDataService.mainVideoData.middleBlur" [style.animationName]="videoDialogDataService.mainVideoData.middleAnimationName"  [style.animationDuration]="videoDialogDataService.animationDuration"  [style.animationIterationCount]="videoDialogDataService.animationIterationCount"  [style.animationTimingFunction]="videoDialogDataService.animationTimingFunction">
                      <div id="speaker-center" class="speaker center" [style.filter]="videoDialogDataService.mainVideoData.centerBlur">
                        {{ videoDialogDataService.mainVideoData.firstName.charAt(0).toUpperCase() }}{{ videoDialogDataService.mainVideoData.lastName.charAt(0).toUpperCase() }}
                     </div>
                    </div>
                  </div>
                 </div>
              </div>
            </span>
           
            <!-- <button class="messageContentWrapperButton"(click)="messageContentWrapperFunc()">Messages</button> -->
            <button id="messageContentButton" class="messageContentWrapperButton"(click)="messageContentWrapperFunc()" nbButton size="small" status="danger" *ngIf="headerVariableService.isConference"><nb-icon icon="message-square-outline"></nb-icon>Messages</button>
          </div>
          <div class = "messageContentWrapper" [style.width.%]="messageContentWrapperWidth" [style.height.%]="messageContentWrapperHeight">
          
            <nb-card accent="info">
              <nb-card-header>
                <div>
                   {{ liveChat }}
                </div>
              </nb-card-header>
              <nb-card-body>
                <div id = "searchAllParticipantsBox" class="searchAllParticipants">
                  <input #addConferenceMember
                          nbInput
                          type="text"
                          class="searchAllParticipantsInput"
                          (input)="onChange()"
                          placeholder="Add member to conference"
                          [nbAutocomplete]="auto" />

                  <nb-autocomplete #auto (selectedChange)="onInternalParticipantAdded($event)">

                          <nb-option *ngFor="let option of videoDialogDataService.filteredOptions$ | async; let j = index;" [value]="option.extension">
                            <div class="searchParticipantOption">
                              <!-- <nb-user size="small"
                              [name]="option.firstName + ' '+option.lastName"
                              title="Engineer"
                              [showTitle]="false">
                               </nb-user> -->
                               <nb-user *ngIf="option.iconImageData != null"
                                        [name]="option?.firstName + ' '+option?.lastName"
                                        [onlyPicture]="false"
                                        [showInitials]="true"
                                        [picture]="'data:image/'+option?.imageType+';base64,'+option?.iconImageData | replace:'/image':''">
                               </nb-user>
                               <nb-user *ngIf="option.iconImageData == null"
                                        [name]="option?.firstName + ' '+option?.lastName"
                                        [onlyPicture]="false"
                                        [showInitials]="true">
                               </nb-user>
                              &nbsp;&nbsp;&nbsp;
                              &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ option.extension }} - {{ option.role }}
                            </div>
                          </nb-option>
                  </nb-autocomplete>
                 </div>
                 
                  <div class="chat-area">
                      <span *ngFor="let data of videoDialogDataService.allChatData; let i = index;">
                        <span *ngIf="!(data.fromExtension == videoDialogDataService.currentUser.extension)">
                              <div class="message-wrapper straight">
                                  <div class="profile-picture">
                                        <nb-user size="large"
                                                 [name]="data.fromName"
                                                 [title]="data.fromTitle"
                                                onlyPicture>
                                        </nb-user>
                                    </div>
                                  <div class="message-content">
                                      <p class="name">{{ data.fromName  }}</p>
                                      <span *ngFor="let messageData of data.messages; let j = index;"> 
                                        <span *ngIf="messageData.messageType == 'string'">
                                            <span *ngFor="let line of messageData.lines; let k = index;">
                                              <span *ngIf="line.messageSubType == 'string'">
                                                <div class="message">{{ line.stringMessage }}</div>
                                              </span>
                                              <span *ngIf="line.messageSubType == 'anchor'">
                                                <div class="message">
                                                  <span *ngFor="let line of line.anchorMessage; let l = index;"> 
                                                        <span *ngIf="!(line.includes('@'))">
                                                          &nbsp;{{ line }}
                                                        </span>
                                                        <span *ngIf="line.includes('@')">
                                                          &nbsp;<a class="mention">{{ line }}</a>
                                                        </span>
                                                  </span>
                                                </div>
                                              </span>
                                           </span>
                                        </span>
                                        <span *ngIf="messageData.messageType == 'blob'">
                                          <div class="message-file" (onclick) = "downloadMessageFile(i,j)">
                                            <div class="icon sketch">
                                              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                                                <defs>
                                                </defs>
                                                <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                                                  <path d="M 77.474 17.28 L 61.526 1.332 C 60.668 0.473 59.525 0 58.311 0 H 15.742 c -2.508 0 -4.548 2.04 -4.548 4.548 v 80.904 c 0 2.508 2.04 4.548 4.548 4.548 h 58.516 c 2.508 0 4.549 -2.04 4.549 -4.548 V 20.496 C 78.807 19.281 78.333 18.138 77.474 17.28 z M 61.073 5.121 l 12.611 12.612 H 62.35 c -0.704 0 -1.276 -0.573 -1.276 -1.277 V 5.121 z M 74.258 87 H 15.742 c -0.854 0 -1.548 -0.694 -1.548 -1.548 V 4.548 C 14.194 3.694 14.888 3 15.742 3 h 42.332 v 13.456 c 0 2.358 1.918 4.277 4.276 4.277 h 13.457 v 64.719 C 75.807 86.306 75.112 87 74.258 87 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                  <path d="M 68.193 33.319 H 41.808 c -0.829 0 -1.5 -0.671 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 26.385 c 0.828 0 1.5 0.671 1.5 1.5 S 69.021 33.319 68.193 33.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                  <path d="M 34.456 33.319 H 21.807 c -0.829 0 -1.5 -0.671 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 12.649 c 0.829 0 1.5 0.671 1.5 1.5 S 35.285 33.319 34.456 33.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                  <linearGradient id="SVGID_1" gradientUnits="userSpaceOnUse" x1="21.8064" y1="19.2332" x2="42.2984" y2="19.2332">
                                                <stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity: 1"/>
                                                <stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity: 1"/>
                                                </linearGradient>
                                                <line x1="-10.246" y1="0" x2="10.246" y2="0" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: url(#SVGID_1); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>
                                                  <path d="M 42.298 20.733 H 21.807 c -0.829 0 -1.5 -0.671 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 20.492 c 0.829 0 1.5 0.671 1.5 1.5 S 43.127 20.733 42.298 20.733 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                  <path d="M 68.193 44.319 H 21.807 c -0.829 0 -1.5 -0.671 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 46.387 c 0.828 0 1.5 0.671 1.5 1.5 S 69.021 44.319 68.193 44.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                  <path d="M 48.191 55.319 H 21.807 c -0.829 0 -1.5 -0.672 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 26.385 c 0.828 0 1.5 0.672 1.5 1.5 S 49.02 55.319 48.191 55.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                  <path d="M 68.193 55.319 H 55.544 c -0.828 0 -1.5 -0.672 -1.5 -1.5 s 0.672 -1.5 1.5 -1.5 h 12.649 c 0.828 0 1.5 0.672 1.5 1.5 S 69.021 55.319 68.193 55.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                  <path d="M 68.193 66.319 H 21.807 c -0.829 0 -1.5 -0.672 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 46.387 c 0.828 0 1.5 0.672 1.5 1.5 S 69.021 66.319 68.193 66.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                  <path d="M 68.193 77.319 H 55.544 c -0.828 0 -1.5 -0.672 -1.5 -1.5 s 0.672 -1.5 1.5 -1.5 h 12.649 c 0.828 0 1.5 0.672 1.5 1.5 S 69.021 77.319 68.193 77.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                                </g>
                                                </svg>
                                            </div>
                                            <div class="file-info">
                                              <div class="file-name">{{ messageData.fileName  }}</div>
                                              <div class="file-size">{{ messageData.fileSizeInMB  }}</div>
                                            </div>
                                          </div>
                                        </span>                                      
                                      </span>
                                  </div>
                              </div>
                        </span>

                        <span *ngIf="data.fromExtension == videoDialogDataService.currentUser.extension">
                              <div class="message-wrapper reverse">
                                <div class="profile-picture">
                                      <nb-user size="large"
                                              [name]="data.fromName"
                                              [title]="data.fromTitle"
                                              onlyPicture>
                                      </nb-user>
                                </div>
                                <div class="message-content">
                                  <p class="name">{{ data.fromName  }}</p>
                                  <span *ngFor="let messageData of data.messages; let j = index;"> 
                                    <span *ngIf="messageData.messageType == 'string'">
                                        <span *ngFor="let line of messageData.lines; let k = index;">
                                          <span *ngIf="line.messageSubType == 'string'">
                                            <div class="message">{{ line.stringMessage }}</div>
                                          </span>
                                          <span *ngIf="line.messageSubType == 'anchor'">
                                            <div class="message">
                                              <span *ngFor="let line of line.anchorMessage; let l = index;"> 
                                                  <span *ngIf="!(line.includes('@'))">
                                                    &nbsp;{{ line }}
                                                </span>
                                                <span *ngIf="line.includes('@')">
                                                  &nbsp;<a class="mention">{{ line }}</a>
                                                </span>
                                              </span>
                                            </div>
                                          </span>
                                       </span>
                                    </span>
                                    <span *ngIf="messageData.messageType == 'blob'">
                                      <div class="message-file" (onclick) = "downloadMessageFile(i,j)">
                                        <div class="icon sketch">
                                          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                                            <defs>
                                            </defs>
                                            <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                                              <path d="M 77.474 17.28 L 61.526 1.332 C 60.668 0.473 59.525 0 58.311 0 H 15.742 c -2.508 0 -4.548 2.04 -4.548 4.548 v 80.904 c 0 2.508 2.04 4.548 4.548 4.548 h 58.516 c 2.508 0 4.549 -2.04 4.549 -4.548 V 20.496 C 78.807 19.281 78.333 18.138 77.474 17.28 z M 61.073 5.121 l 12.611 12.612 H 62.35 c -0.704 0 -1.276 -0.573 -1.276 -1.277 V 5.121 z M 74.258 87 H 15.742 c -0.854 0 -1.548 -0.694 -1.548 -1.548 V 4.548 C 14.194 3.694 14.888 3 15.742 3 h 42.332 v 13.456 c 0 2.358 1.918 4.277 4.276 4.277 h 13.457 v 64.719 C 75.807 86.306 75.112 87 74.258 87 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                              <path d="M 68.193 33.319 H 41.808 c -0.829 0 -1.5 -0.671 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 26.385 c 0.828 0 1.5 0.671 1.5 1.5 S 69.021 33.319 68.193 33.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                              <path d="M 34.456 33.319 H 21.807 c -0.829 0 -1.5 -0.671 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 12.649 c 0.829 0 1.5 0.671 1.5 1.5 S 35.285 33.319 34.456 33.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                              <linearGradient id="SVGID_1" gradientUnits="userSpaceOnUse" x1="21.8064" y1="19.2332" x2="42.2984" y2="19.2332">
                                            <stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity: 1"/>
                                            <stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity: 1"/>
                                            </linearGradient>
                                            <line x1="-10.246" y1="0" x2="10.246" y2="0" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: url(#SVGID_1); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>
                                              <path d="M 42.298 20.733 H 21.807 c -0.829 0 -1.5 -0.671 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 20.492 c 0.829 0 1.5 0.671 1.5 1.5 S 43.127 20.733 42.298 20.733 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                              <path d="M 68.193 44.319 H 21.807 c -0.829 0 -1.5 -0.671 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 46.387 c 0.828 0 1.5 0.671 1.5 1.5 S 69.021 44.319 68.193 44.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                              <path d="M 48.191 55.319 H 21.807 c -0.829 0 -1.5 -0.672 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 26.385 c 0.828 0 1.5 0.672 1.5 1.5 S 49.02 55.319 48.191 55.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                              <path d="M 68.193 55.319 H 55.544 c -0.828 0 -1.5 -0.672 -1.5 -1.5 s 0.672 -1.5 1.5 -1.5 h 12.649 c 0.828 0 1.5 0.672 1.5 1.5 S 69.021 55.319 68.193 55.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                              <path d="M 68.193 66.319 H 21.807 c -0.829 0 -1.5 -0.672 -1.5 -1.5 s 0.671 -1.5 1.5 -1.5 h 46.387 c 0.828 0 1.5 0.672 1.5 1.5 S 69.021 66.319 68.193 66.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                              <path d="M 68.193 77.319 H 55.544 c -0.828 0 -1.5 -0.672 -1.5 -1.5 s 0.672 -1.5 1.5 -1.5 h 12.649 c 0.828 0 1.5 0.672 1.5 1.5 S 69.021 77.319 68.193 77.319 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                                            </g>
                                            </svg>
                                        </div>
                                        <div class="file-info">
                                          <div class="file-name">{{ messageData.fileName  }}</div>
                                          <div class="file-size">{{ messageData.fileSizeInMB  }}</div>
                                        </div>
                                      </div>
                                    </span>                                      
                                  </span>
                              </div>
                              </div>
                        </span>
                      </span>
                  </div>
              </nb-card-body>
              <nb-card-footer>
                <div class="chat-typing-area-wrapper">
                  <div class="chat-typing-area">
                    <input type="text" placeholder="Type your meesage..." class="chat-input">
                    <button class="send-button" (click)="sendMessage()">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-send" viewBox="0 0 24 24">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                      </svg>
                    </button>
                  </div>
                </div>
              </nb-card-footer>
            </nb-card>
          
          </div>

          <button id="allParticipantsButton" class="allParticipantsWrapperButton"(click)="allParticipantsWrapperFunc()" nbButton size="small" status="danger"><nb-icon icon="person-outline"></nb-icon>All-Paricipants</button>
         
        </div>
        

        <div class = "allParticipantsWrapper"   [style.width.%]="allParticipantsWrapperWidth" [style.height.%]="allParticipantsWrapperHeight">
          <div class="call-wrapper">
            <div class="call-participant"  *ngFor="let data of videoDialogDataService.allConferenceMembers; let j = index;">
              <div class="participant-actions">
                <button *ngIf="!data.isMute" id="btn-mute-{{ data.extension }}" class="btn-unmute" (click)="changeParticipantAudio(j)"><nb-icon  icon="mic-outline" class="btn-mute-color"></nb-icon></button>
                <button *ngIf="data.isVideoOn" id="btn-camera-{{ data.extension }}" class="btn-camera-on" (click)="changeParticipantVideo(j)"><nb-icon icon="video-outline" class="btn-camera-color"></nb-icon></button>
                <button *ngIf="data.isMute" id="btn-umute-{{ data.extension }}" class="btn-mute" (click)="changeParticipantAudio(j)"><nb-icon icon="mic-off-outline" class="btn-camera-color"></nb-icon></button>
                <button *ngIf="!data.isVideoOn" id="btn-camera-off-{{ data.extension }}" class="btn-camera" (click)="changeParticipantVideo(j)"><nb-icon icon="video-off-outline" class="btn-camera-color"></nb-icon></button>
              </div>
              <a href="#" class="name-tag">{{ data.firstName }}&nbsp;{{ data.lastName }}</a>
              <video *ngIf="data.isVideoOn" id="video-{{ data.extension }}"></video>
              <span *ngIf="!data.isVideoOn" style="width:100%;height:100%">
                <div class="speaker-main-container">
                  <div class="speaker-wrapper">
                    <div class="speaker border">
                      <div class="speaker inside"  [style.filter]="data.middleBlur" [style.animationName]="data.middleAnimationName"  [style.animationDuration]="videoDialogDataService.animationDuration"  [style.animationIterationCount]="videoDialogDataService.animationIterationCount"  [style.animationTimingFunction]="videoDialogDataService.animationTimingFunction">
                        <div id="speaker-center-{{ data.extension }}" class="speaker center" [style.filter]="data.centerBlur">
                           {{ data.firstName.charAt(0).toUpperCase() }}{{ data.lastName.charAt(0).toUpperCase() }}
                        </div>
                      </div>
                    </div>
                   </div>
                </div>
              </span>
              <!-- <img src="https://images.unsplash.com/photo-1566821582776-92b13ab46bb4?ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=60" alt="participant"> -->
            </div>
          </div>
        
        </div>
      </nb-card-body>
    </nb-card>

    <div class='resizer bottom-left'></div>
    <div class='resizer bottom-right'></div>
  </div>
  
</div>